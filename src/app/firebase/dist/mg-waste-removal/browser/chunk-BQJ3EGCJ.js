import{a as Z}from"./chunk-V4T4FJR5.js";import{b as j,c as _,d as G,e as V,f as H,g as Q,h as R,i as W,k as Y}from"./chunk-XRSEYVWA.js";import{A as S,Ab as B,Ba as h,Bb as T,Ca as y,Ea as b,Hb as J,Ib as K,Ja as L,Jb as U,La as A,Lb as O,M as I,Mb as X,Oa as F,Q as l,R as p,Xa as N,Y as a,aa as C,c as x,fa as t,ga as e,ha as d,la as u,lb as q,ma as f,mb as v,ob as M,qb as w,ra as o,sa as E,ua as k,va as z,wa as D}from"./chunk-QIJRCMVY.js";var $=["dropdownContainer1"],nn=["dropdownContainer2"];function tn(c,m){if(c&1&&(t(0,"p",38),o(1," Email required* "),e()),c&2){let s=f();a("@fadeInOut",(s.form.controls.email.errors==null?null:s.form.controls.email.errors.required)&&s.form.controls.email.touched)}}function en(c,m){if(c&1&&(t(0,"p",38),o(1," Please introduce a valid email address "),e()),c&2){let s=f();a("@fadeInOut",(s.form.controls.email.errors==null?null:s.form.controls.email.errors.email)&&s.form.touched)}}function on(c,m){if(c&1&&(t(0,"p",38),o(1," Password is required* "),e()),c&2){let s=f();a("@fadeInOut",(s.form.get("password").errors==null?null:s.form.get("password").errors.required)&&s.form.get("password").touched)}}function rn(c,m){c&1&&d(0,"div",39)}var cn=c=>({"arrow-up":c}),yn=(()=>{let m=class m{constructor(i,r,n,g,P){this.router=i,this.fb=r,this.authService=n,this.notificationService=g,this.spinnerService=P,this.isDropdownOpen=null,this.hide=!0,this.form=this.fb.group({email:["",[_.required,_.email]],password:["",[_.required,_.maxLength(50)]]})}clickout(i){!this.isInsideDropdown(i,1)&&!this.isInsideDropdown(i,2)&&(this.isDropdownOpen=null)}toggleHide(){this.hide=!this.hide}isInsideDropdown(i,r){return(r===1?this.dropdownContainer1:this.dropdownContainer2)?.nativeElement.contains(i.target)??!1}toggleDropdown(i){this.isDropdownOpen=this.isDropdownOpen===i?null:i}navigateTo(i){this.router.navigate([i])}login(){if(this.form.invalid)return;let i={email:this.form.value.email.toLowerCase(),password:this.form.value.password};this.spinnerService.show(),this.authService.signIn(i.email,i.password).subscribe({next:r=>x(this,null,function*(){r.user.emailVerified===!1&&this.router.navigate(["/AccountVerification"]),this.notificationService.showSwalWithoutButtons("Welcome","success",2e3,"You can now access your account.")}),error:r=>{let n=this.getFriendlyErrorMessage(r);r.message==="Activate account"?(this.router.navigate(["AccountVerification/"],{state:{email:i.email}}),this.notificationService.showSwalWithoutButtons("Oops, something went wrong.","error",1e4,n)):this.notificationService.showSwalWithoutButtons("Oops, something went wrong.","error",1e4,n),this.form.enable()},complete:()=>{this.spinnerService.hide()}})}getFriendlyErrorMessage(i){return i.message==="Activate account"?"You must activate your account before logging in. Please check your email for instructions.":"An error occurred. Please call us at 786 782-1840."}};m.\u0275fac=function(r){return new(r||m)(p(N),p(W),p(O),p(X),p(Z))},m.\u0275cmp=S({type:m,selectors:[["app-log-in"]],viewQuery:function(r,n){if(r&1&&(y($,5),y(nn,5)),r&2){let g;h(g=b())&&(n.dropdownContainer1=g.first),h(g=b())&&(n.dropdownContainer2=g.first)}},hostBindings:function(r,n){r&1&&u("click",function(P){return n.clickout(P)},!1,I)},standalone:!0,features:[k([O]),z],decls:67,vars:13,consts:[[1,"container"],[1,"head","head2"],[1,"text-login"],[1,"body"],[1,"cols"],[1,"col1","profile-icon-container"],[3,"formGroup"],[1,"logInIcon"],[1,"main-container","email",3,"ngClass"],["formControlName","email","placeholder","Lorem@gmail.com","type","text","id","email_login"],["for","email_login"],["class","error-text",4,"ngIf"],["placeholder","xxxxxxxxxxx","formControlName","password","type","text","id","password_login",3,"type"],["for","password_login"],["mat-icon-button","","matSuffix","",1,"hide",3,"click"],["href","#",1,"forgot"],["mat-raised-button","",1,"button-global",3,"disabled","click"],[1,"text-register"],[1,"forgot","createAccount",3,"click"],[1,"col2","continue-as-guest"],[1,"icon-text-holder"],[1,"text"],[1,"customer-invoice"],[1,"main-selector",2,"margin-left","25px",3,"click"],["dropdownContainer2",""],["placeholder","Select","type","text","value","Invoice Number","id","invoiceNumber","readonly",""],["selectorInput2",""],["matSuffix","",1,"arrow",3,"ngClass"],["class","dropdown-content",4,"ngIf"],[1,"description-select"],[1,"form-container"],[1,"main-container",2,"margin-right","25px"],["placeholder","3950 Nw 3rd St, Miami, Fl, 33126","type","text","id","addresssearch"],["for","address"],["type","submit","mat-raised-button","",1,"button-global"],[1,"privacy-policy"],["href","#"],["src","../../../../../assets/images/invoice.png","alt","Invoice-number-guide-jpg",1,"invoice-image"],[1,"error-text"],[1,"dropdown-content"]],template:function(r,n){r&1&&(t(0,"section",0)(1,"section",1)(2,"p",2),o(3,"Getting Started"),e()(),t(4,"section",3)(5,"section",4)(6,"section",5)(7,"form",6)(8,"div",7)(9,"mat-icon"),o(10,"account_circle"),e(),t(11,"p"),o(12,"Log In"),e()(),t(13,"div",8),d(14,"input",9),t(15,"label",10),o(16,"Email"),e(),C(17,tn,2,1,"p",11)(18,en,2,1,"p",11),e(),t(19,"div",8),d(20,"input",12),t(21,"label",13),o(22,"Password"),e(),t(23,"button",14),u("click",function(){return n.toggleHide()}),t(24,"mat-icon"),o(25),e()(),C(26,on,2,1,"p",11),e(),t(27,"a",15),o(28,"Forgot email or password?"),e(),t(29,"button",16),u("click",function(){return n.login()}),o(30," Log In "),e(),t(31,"p",17),o(32," Already have an account or need to register? "),e(),t(33,"a",18),u("click",function(){return n.navigateTo("/Register")}),o(34,"Create a my MG Waste Account"),e()()(),t(35,"section",19)(36,"div",20)(37,"mat-icon"),o(38,"person"),e(),t(39,"p",21),o(40,"Continue As Guest"),e()(),t(41,"div",22)(42,"p"),o(43,"Please use your"),e(),t(44,"div",23,24),u("click",function(){return n.toggleDropdown(2)}),d(46,"input",25,26),t(48,"mat-icon",27),o(49," arrow_drop_down "),e(),C(50,rn,1,0,"div",28),e(),d(51,"br"),e(),t(52,"p",29),o(53," to view your holiday schedule or pay your bill "),e(),t(54,"div",30)(55,"div",31),d(56,"input",32),t(57,"label",33),o(58,"Address"),e()(),t(59,"button",34),o(60," Submit "),e()(),t(61,"p",35),o(62," Learn more about your rights on our "),t(63,"a",36),o(64,"Privacy Policy"),e(),o(65," page. "),e(),d(66,"img",37),e()()()()),r&2&&(l(7),a("formGroup",n.form),l(6),a("ngClass",n.form.controls.email.errors&&n.form.controls.email.touched?"required-red":""),l(4),a("ngIf",(n.form.controls.email.errors==null?null:n.form.controls.email.errors.required)&&n.form.controls.email.touched),l(),a("ngIf",(n.form.controls.email.errors==null?null:n.form.controls.email.errors.email)&&n.form.touched),l(),a("ngClass",n.form.controls.password.errors&&n.form.controls.password.touched?"required-red":""),l(),a("type",n.hide?"password":"text"),l(5),E(n.hide?"visibility_off":"visibility"),l(),a("ngIf",(n.form.get("password").errors==null?null:n.form.get("password").errors.required)&&n.form.get("password").touched),l(3),a("disabled",!n.form.valid),l(19),a("ngClass",D(11,cn,n.isDropdownOpen===2)),l(2),a("ngIf",n.isDropdownOpen===2))},dependencies:[T,B,U,J,K,Y,H,j,G,V,Q,R,F,L,A],styles:['.container[_ngcontent-%COMP%]{position:relative;max-width:100%;background-color:#f8f8f2}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding:0 calc((100% - 1140px)/2)!important;position:relative;height:12.5rem;display:flex;font-family:DosisExtraBold!important;justify-content:flex-start;align-items:center}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;background-image:url(/assets/images/background.png)!important;background-repeat:no-repeat;background-position:center;background-size:cover;left:0;top:0;height:100%;margin:0!important;padding:0!important;background-color:#00000080}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .text-login[_ngcontent-%COMP%]{position:absolute;letter-spacing:-.5px;z-index:2;font-size:4rem;color:#000;font-family:DosisExtraBold!important}.container[_ngcontent-%COMP%]   .head2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{position:relative;margin:0 calc((100% - 1140px)/2)!important}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .text-head-body[_ngcontent-%COMP%]{position:relative;font-size:1rem;margin:1.5rem 0!important;color:#494949bd;font-weight:700}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;padding-bottom:1.5rem!important;height:100%;align-items:flex-start}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]{position:relative;background-color:#fff;padding:3rem 1.5rem;display:flex;width:29%;height:30rem;justify-content:flex-start;box-sizing:border-box;flex-direction:column;align-items:flex-start}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{margin-bottom:1.5rem;width:100%}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{position:absolute;right:0;font-size:1rem;color:gray}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]   .forgot[_ngcontent-%COMP%]{font-size:.95rem;text-decoration:none;color:#0e521a;font-weight:700}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]   .button-global[_ngcontent-%COMP%]{margin:1rem 0;width:100%!important}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]   .createAccount[_ngcontent-%COMP%]{margin-top:.5rem!important;cursor:pointer}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .profile-icon-container[_ngcontent-%COMP%]{padding:1.5rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .profile-icon-container[_ngcontent-%COMP%]   .logInIcon[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-bottom:1.5rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .profile-icon-container[_ngcontent-%COMP%]   .logInIcon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:1.8rem;font-size:1.8rem;width:1.8rem;margin-right:1rem;overflow:visible;color:#0e521a}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .profile-icon-container[_ngcontent-%COMP%]   .logInIcon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#494949bd}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]{position:relative;margin-left:2rem;box-sizing:border-box;background-color:#fff;width:calc(71% - 2rem);height:auto;padding:1.5rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;font-size:1.2rem;color:#494949bd;font-weight:700;margin-bottom:1.2rem!important}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:.95rem;letter-spacing:.04rem;color:#494949bd}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px!important}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .icon-text-holder[_ngcontent-%COMP%]{display:flex;align-items:center}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .icon-text-holder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;color:#0e521a;font-size:1.8rem;width:1.8rem;height:1.8rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .icon-text-holder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 .5rem!important;font-size:1rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .customer-invoice[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:2rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .customer-invoice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#494949bd}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .description-select[_ngcontent-%COMP%]{font-size:.9rem;color:#494949bd;margin-top:1rem!important}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:2rem}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .privacy-policy[_ngcontent-%COMP%]{font-size:.9rem;color:#494949bd;margin:1rem 0!important}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .privacy-policy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0e521a}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .continue-as-guest[_ngcontent-%COMP%]   .invoice-image[_ngcontent-%COMP%]{margin:0;padding:0;width:auto;height:8rem;object-fit:contain}'],data:{animation:[q("fadeInOut",[w(":enter",[M({opacity:0}),v("0.2s ease",M({opacity:1}))]),w(":leave",[v("0.2s ease",M({opacity:0}))])])]}});let c=m;return c})();export{yn as LogInComponent};
